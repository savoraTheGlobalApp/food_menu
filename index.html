<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Foodie Recommender - Your Next Meal Awaits</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Foodie Recommender">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="logo">
                <i class="fas fa-utensils"></i>
                <h1>Foodie Recommender</h1>
            </div>
            <p class="subtitle">Discover your perfect meal in seconds</p>
        </header>

        <main class="main-content">
            <!-- Welcome Screen -->
            <div id="welcome-screen" class="welcome-screen">
                <div class="welcome-card">
                    <h2>Welcome to Your Personal Food Menu!</h2>
                    <p>Let's set up your food preferences to create a personalized 7-day menu.</p>
                    <button id="start-setup-btn" class="primary-btn">
                        <i class="fas fa-arrow-right"></i>
                        Get Started
                    </button>
                </div>
            </div>

            <!-- Food Preferences Setup -->
            <div id="food-setup" class="food-setup hidden">
                <div class="setup-card">
                    <h2>What do you usually eat?</h2>
                     <p>Select at least 3 items from the list below. You can also add your own.</p>
                    
                     <div class="predefined-options" id="predefined-options"></div>
 
                     <div class="food-input-section">
                         <button id="add-other-btn" class="secondary-btn" type="button">
                             <i class="fas fa-plus"></i>
                             Add other item
                         </button>
                     </div>

                    <div class="added-foods">
                        <h3>Your Food Items:</h3>
                        <div id="food-list" class="food-list">
                            <p class="no-foods">No food items added yet</p>
                        </div>
                    </div>

                    <div class="setup-actions">
                        <button id="generate-menu-btn" class="primary-btn" disabled>
                            <i class="fas fa-calendar-alt"></i>
                            Generate My 7-Day Menu
                        </button>
                    </div>
                </div>
            </div>

            <!-- 7-Day Menu Display -->
            <div id="menu-display" class="menu-display hidden">
                <div class="menu-header">
                    <h2>Your 7-Day Menu</h2>
                    <div class="menu-actions">
                        <button id="add-new-food-btn" class="secondary-btn">
                            <i class="fas fa-plus"></i>
                            Add Food
                        </button>
                        <button id="regenerate-menu-btn" class="secondary-btn">
                            <i class="fas fa-sync"></i>
                            Regenerate
                        </button>
                    </div>
                </div>
                
                <div id="weekly-menu" class="weekly-menu">
                    <!-- Menu will be generated here -->
                </div>
            </div>

            <!-- Add New Food Modal -->
            <div id="add-food-modal" class="modal hidden">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>Add New Food Item</h3>
                        <button id="close-modal-btn" class="close-btn">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="input-group">
                            <input type="text" id="new-food-input" placeholder="Enter new food item">
                            <button id="save-new-food-btn" class="primary-btn">
                                <i class="fas fa-save"></i>
                                Add Food
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Single Dish Interface -->
            <div id="single-dish-section" class="preference-section hidden">
                <div class="section-header">
                    <button class="back-btn" onclick="showMainMenu()">
                        <i class="fas fa-arrow-left"></i>
                        Back
                    </button>
                    <h2>Choose Your Single Dish</h2>
                </div>
                
                <div class="filter-grid">
                    <div class="filter-group">
                        <label class="filter-label">
                            <i class="fas fa-utensils"></i>
                            Cuisine Type
                            <span class="selection-count" id="cuisine-count">(0/3)</span>
                        </label>
                        <div class="filter-options">
                            <button class="filter-btn" data-filter="cuisine" data-value="South Indian">South Indian</button>
                            <button class="filter-btn" data-filter="cuisine" data-value="North Indian">North Indian</button>
                            <button class="filter-btn" data-filter="cuisine" data-value="Indian">Indian</button>
                            <button class="filter-btn" data-filter="cuisine" data-value="Chinese">Chinese</button>
                            <button class="filter-btn" data-filter="cuisine" data-value="Continental">Continental</button>
                            <button class="filter-btn" data-filter="cuisine" data-value="Street Food">Street Food</button>
                            <button class="filter-btn" data-filter="cuisine" data-value="Italian">Italian</button>
                            <button class="filter-btn" data-filter="cuisine" data-value="Mexican">Mexican</button>
                            <button class="filter-btn" data-filter="cuisine" data-value="Thai">Thai</button>
                            <button class="filter-btn" data-filter="cuisine" data-value="Japanese">Japanese</button>
                        </div>
                    </div>

                    <div class="filter-group">
                        <label class="filter-label">
                            <i class="fas fa-leaf"></i>
                            Food Type
                            <span class="selection-count" id="type-count">(0/3)</span>
                        </label>
                        <div class="filter-options">
                            <button class="filter-btn" data-filter="type" data-value="Vegetarian">Vegetarian</button>
                            <button class="filter-btn" data-filter="type" data-value="Non-Vegetarian">Non-Veg</button>
                            <button class="filter-btn" data-filter="type" data-value="Egg">Egg</button>
                        </div>
                    </div>

                    <div class="filter-group">
                        <label class="filter-label">
                            <i class="fas fa-fire"></i>
                            Spice Level
                            <span class="selection-count" id="spice-count">(0/3)</span>
                        </label>
                        <div class="filter-options">
                            <button class="filter-btn" data-filter="spice" data-value="mild">Mild</button>
                            <button class="filter-btn" data-filter="spice" data-value="medium">Medium</button>
                            <button class="filter-btn" data-filter="spice" data-value="spicy">Spicy</button>
                        </div>
                    </div>

                    <div class="filter-group">
                        <label class="filter-label">
                            <i class="fas fa-clock"></i>
                            Meal Time
                            <span class="selection-count" id="meal-count">(0/3)</span>
                        </label>
                        <div class="filter-options">
                            <button class="filter-btn" data-filter="meal" data-value="breakfast">Breakfast</button>
                            <button class="filter-btn" data-filter="meal" data-value="lunch">Lunch</button>
                            <button class="filter-btn" data-filter="meal" data-value="dinner">Dinner</button>
                            <button class="filter-btn" data-filter="meal" data-value="snacks">Snacks</button>
                        </div>
                    </div>

                    <div class="filter-group">
                        <label class="filter-label">
                            <i class="fas fa-heart"></i>
                            Special Preferences
                            <span class="selection-count" id="special-count">(0/3)</span>
                        </label>
                        <div class="filter-options">
                            <button class="filter-btn" data-filter="special" data-value="healthy">Healthy</button>
                            <button class="filter-btn" data-filter="special" data-value="comfort">Comfort Food</button>
                            <button class="filter-btn" data-filter="special" data-value="quick">Quick Bite</button>
                            <button class="filter-btn" data-filter="special" data-value="traditional">Traditional</button>
                        </div>
                    </div>
                </div>

                <div class="selected-filters">
                    <h3>Your Preferences:</h3>
                    <div id="selected-filters-list" class="selected-filters-list">
                        <span class="no-selection">No filters selected - we'll surprise you!</span>
                    </div>
                </div>

                <button id="recommend-btn" class="recommend-btn">
                    <i class="fas fa-magic"></i>
                    Get My Recommendation
                </button>
            </div>

            <!-- Combo Meal Interface -->
            <div id="combo-meal-section" class="preference-section hidden">
                <div class="section-header">
                    <button class="back-btn" onclick="showMainMenu()">
                        <i class="fas fa-arrow-left"></i>
                        Back
                    </button>
                    <h2>Choose Your Combo Meal</h2>
                </div>
                
                <div class="filter-grid">
                    <div class="filter-group">
                        <label class="filter-label">
                            <i class="fas fa-bread-slice"></i>
                            Roti/Rice Type
                            <span class="selection-count" id="roti-count">(0/3)</span>
                        </label>
                        <div class="filter-options">
                            <button class="filter-btn" data-filter="roti" data-value="Naan">Naan</button>
                            <button class="filter-btn" data-filter="roti" data-value="Butter Naan">Butter Naan</button>
                            <button class="filter-btn" data-filter="roti" data-value="Garlic Naan">Garlic Naan</button>
                            <button class="filter-btn" data-filter="roti" data-value="Bhature">Bhature</button>
                            <button class="filter-btn" data-filter="roti" data-value="Tandoori Roti">Tandoori Roti</button>
                            <button class="filter-btn" data-filter="roti" data-value="Jeera Rice">Jeera Rice</button>
                            <button class="filter-btn" data-filter="roti" data-value="Plain Rice">Plain Rice</button>
                            <button class="filter-btn" data-filter="roti" data-value="Biryani Rice">Biryani Rice</button>
                        </div>
                    </div>

                    <div class="filter-group">
                        <label class="filter-label">
                            <i class="fas fa-bowl-food"></i>
                            Curry Type
                            <span class="selection-count" id="curry-count">(0/3)</span>
                        </label>
                        <div class="filter-options">
                            <button class="filter-btn" data-filter="curry" data-value="Chhole">Chhole</button>
                            <button class="filter-btn" data-filter="curry" data-value="Rajma">Rajma</button>
                            <button class="filter-btn" data-filter="curry" data-value="Chicken Curry">Chicken Curry</button>
                            <button class="filter-btn" data-filter="curry" data-value="Egg Curry">Egg Curry</button>
                            <button class="filter-btn" data-filter="curry" data-value="Paneer Curry">Paneer Curry</button>
                            <button class="filter-btn" data-filter="curry" data-value="Dal">Dal</button>
                            <button class="filter-btn" data-filter="curry" data-value="Mutton Curry">Mutton Curry</button>
                            <button class="filter-btn" data-filter="curry" data-value="Fish Curry">Fish Curry</button>
                        </div>
                    </div>

                    <div class="filter-group">
                        <label class="filter-label">
                            <i class="fas fa-fire"></i>
                            Spice Level
                            <span class="selection-count" id="combo-spice-count">(0/3)</span>
                        </label>
                        <div class="filter-options">
                            <button class="filter-btn" data-filter="combo-spice" data-value="mild">Mild</button>
                            <button class="filter-btn" data-filter="combo-spice" data-value="medium">Medium</button>
                            <button class="filter-btn" data-filter="combo-spice" data-value="spicy">Spicy</button>
                        </div>
                    </div>
                </div>

                <div class="selected-filters">
                    <h3>Your Combo Preferences:</h3>
                    <div id="combo-selected-filters-list" class="selected-filters-list">
                        <span class="no-selection">No filters selected - we'll surprise you!</span>
                    </div>
                </div>

                <button id="combo-recommend-btn" class="recommend-btn">
                    <i class="fas fa-magic"></i>
                    Get My Combo Recommendation
                </button>
            </div>

            <!-- Surprise Me Interface -->
            <div id="surprise-me-section" class="preference-section hidden">
                <div class="section-header">
                    <button class="back-btn" onclick="goToFoodMenu()">
                        <i class="fas fa-arrow-left"></i>
                        Back to Menu
                    </button>
                </div>
                
                <div class="surprise-options">
                    <p>We'll suggest you a dish that you will love!</p>
                    <button id="surprise-btn" class="recommend-btn">
                        <i class="fas fa-magic"></i>
                        Click me!
                    </button>
                </div>
            </div>

            <!-- Single Dish Result -->
            <div id="result-section" class="result-section hidden">
                <div class="result-card">
                    <div class="dish-image">
                        <i class="fas fa-utensils"></i>
                    </div>
                    <div class="dish-info">
                        <h3 id="dish-name">Dish Name</h3>
                        <p id="dish-description">Dish description will appear here</p>
                        <div class="dish-tags">
                            <span id="dish-cuisine" class="tag">Cuisine</span>
                            <span id="dish-type" class="tag">Type</span>
                        </div>
                    </div>
                </div>
                
            </div>

            <!-- Combo Meal Result -->
            <div id="combo-result-section" class="result-section hidden">
                <div class="combo-result-card">
                    <h3>Your Perfect Combo Meal</h3>
                    <div class="combo-items">
                        <div class="combo-item">
                            <div class="item-image">
                                <i class="fas fa-bread-slice"></i>
                            </div>
                            <div class="item-info">
                                <h4 id="roti-name">Roti/Rice</h4>
                                <p id="roti-description">Description</p>
                            </div>
                        </div>
                        <div class="combo-separator">
                            <i class="fas fa-plus"></i>
                        </div>
                        <div class="combo-item">
                            <div class="item-image">
                                <i class="fas fa-bowl-food"></i>
                            </div>
                            <div class="item-info">
                                <h4 id="curry-name">Curry</h4>
                                <p id="curry-description">Description</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="no-results" class="no-results hidden">
                <div class="no-results-content">
                    <i class="fas fa-search"></i>
                    <h3>No dishes found</h3>
                    <p>Try adjusting your preferences or be more specific with your requirements.</p>
                    <button id="clear-preferences" class="secondary-btn">
                        <i class="fas fa-refresh"></i>
                        Clear & Start Over
                    </button>
                </div>
            </div>
        </main>

        <footer class="footer">
            <p>&copy; 2024 Foodie Recommender. Made with <i class="fas fa-heart"></i> for food lovers.</p>
        </footer>
        
        <!-- Floating Action Button -->
        <button id="floating-btn" class="floating-btn" title="Get a surprise meal recommendation">
            <i class="fas fa-utensils"></i>
        </button>
    </div>

    <script src="script.js"></script>
    <script src="food-menu.js"></script>
    <script>
        // Register service worker for PWA functionality
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then((registration) => {
                        console.log('SW registered: ', registration);
                    })
                    .catch((registrationError) => {
                        console.log('SW registration failed: ', registrationError);
                    });
            });
        }
    </script>
</body>
</html>
